specVersion: 0.0.5
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum
    name: RoyaltyVaultFactory
    network: mantle-sepolia
    source:
      address: "0x1D00e9fEC4748e07E178FaF1778c4B95E74CDA30"
      abi: RoyaltyVaultFactory
      startBlock: 33430000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Vault
        - Token
        - ProtocolStats
      abis:
        - name: RoyaltyVaultFactory
          file: RoyaltyVaultFactory/abis/RoyaltyVaultFactory.json
        - name: RoyaltyVault
          file: RoyaltyVaultFactory/abis/RoyaltyVault.json
        - name: RoyaltyToken
          file: RoyaltyVaultFactory/abis/RoyaltyToken.json
      eventHandlers:
        - event: VaultCreated(indexed address,indexed address,indexed
            address,bytes32,string,uint256,uint256,uint256)
          handler: handleVaultCreated
      file: RoyaltyVaultFactory/RoyaltyVaultFactory.wasm
  - kind: ethereum
    name: RoyaltyMarketplace
    network: mantle-sepolia
    source:
      address: "0x8e25b6a75907F8DDf28e15558759802d7922A898"
      abi: RoyaltyMarketplace
      startBlock: 33430000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Listing
        - Trade
      abis:
        - name: RoyaltyMarketplace
          file: RoyaltyMarketplace/abis/RoyaltyMarketplace.json
      eventHandlers:
        - event: Listed(indexed uint256,indexed address,indexed address,uint256,uint256,bool)
          handler: handleListed
        - event: Sold(indexed uint256,indexed address,uint256,uint256,uint256)
          handler: handleSold
        - event: Cancelled(indexed uint256)
          handler: handleCancelled
        - event: PriceUpdated(indexed uint256,uint256,uint256)
          handler: handlePriceUpdated
      file: RoyaltyMarketplace/RoyaltyMarketplace.wasm
  - kind: ethereum
    name: TributaryAMM
    network: mantle-sepolia
    source:
      address: "0xee4c62bb881cF0364333D5754Ef0551a39BA4426"
      abi: TributaryAMM
      startBlock: 33430000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Pool
        - Swap
        - Candle1m
        - Candle5m
        - Candle1h
        - Candle1d
      abis:
        - name: TributaryAMM
          file: TributaryAMM/abis/TributaryAMM.json
      eventHandlers:
        - event: PoolCreated(indexed uint256,indexed address,indexed address,address)
          handler: handlePoolCreated
        - event: Swap(indexed uint256,indexed
            address,bool,uint256,uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleSwap
        - event: LiquidityAdded(indexed uint256,indexed address,uint256,uint256)
          handler: handleLiquidityAdded
        - event: LiquidityRemoved(indexed uint256,indexed address,uint256,uint256)
          handler: handleLiquidityRemoved
      file: TributaryAMM/TributaryAMM.wasm
templates:
  - kind: ethereum
    name: RoyaltyVault
    network: mantle-sepolia
    source:
      abi: RoyaltyVault
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Distribution
        - Claim
      abis:
        - name: RoyaltyVault
          file: RoyaltyVault/abis/RoyaltyVault.json
      eventHandlers:
        - event: RoyaltyReceived(uint256,uint256,uint256,uint256,uint256)
          handler: handleRoyaltyReceived
        - event: RoyaltyDistributed(indexed uint256,uint256,uint256)
          handler: handleRoyaltyDistributed
        - event: Claimed(indexed address,indexed uint256,uint256)
          handler: handleClaimed
      file: templates/RoyaltyVault/RoyaltyVault.wasm
  - kind: ethereum
    name: RoyaltyToken
    network: mantle-sepolia
    source:
      abi: RoyaltyToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - TokenHolder
      abis:
        - name: RoyaltyToken
          file: RoyaltyToken/abis/RoyaltyToken.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: templates/RoyaltyToken/RoyaltyToken.wasm
